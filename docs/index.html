<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@lautag/friday - v1.0.0</title>
	<meta name="description" content="Documentation for @lautag/friday - v1.0.0">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">@lautag/friday - v1.0.0</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>@lautag/friday - v1.0.0</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#laut-javascript-errorlogging-framework" id="laut-javascript-errorlogging-framework" style="color: inherit; text-decoration: none;">
					<h1>Laut Javascript Error/Logging Framework</h1>
				</a>
				<a href="#facade-driven" id="facade-driven" style="color: inherit; text-decoration: none;">
					<h2>Facade Driven</h2>
				</a>
				<p>The preference is to have a facade driven logger which is extensible through compositions.</p>
				<a href="#available-methods" id="available-methods" style="color: inherit; text-decoration: none;">
					<h3>Available methods</h3>
				</a>
				<pre><code><span class="hljs-meta">## new LoggerFacade()</span>
<span class="hljs-meta">#.username(username) -&gt; this</span>
<span class="hljs-meta">#.userEmail(userEmail) -&gt; this</span>
<span class="hljs-meta">#.userId(userId) -&gt; this</span>
<span class="hljs-meta">#.userIp(userIp) -&gt; this</span>
<span class="hljs-meta">#.tag(key, value) -&gt; this</span>
<span class="hljs-meta">#.level(level) -&gt; this</span>
<span class="hljs-meta">#.extra(key, value) -&gt; this</span>
<span class="hljs-meta">#.use(loggerName) -&gt; this</span>
<span class="hljs-meta">#.getLogger(loggerName) -&gt; exposed logger instance</span>
<span class="hljs-meta">#.addLogger(loggerName, logger)</span>
<span class="hljs-meta">#.removeLogger(loggerName)</span>
<span class="hljs-meta">#.removeAllLoggers()</span></code></pre><p>These are the RFC logger levels. They pass the message and any data set on the facade to the underlying loggers. Each logger should I have a mapping of the RFC levels to the appropriate methods/levels exposed by that particular level. If you use one of these methods, any level set by <code>.level(level)</code> will/may be overwritten.</p>
				<pre><code><span class="hljs-meta">#.emergency(message)</span>
<span class="hljs-meta">#.alert(message)</span>
<span class="hljs-meta">#.critical(message)</span>
<span class="hljs-meta">#.error(message)</span>
<span class="hljs-meta">#.warning(message)</span>
<span class="hljs-meta">#.notice(message)</span>
<span class="hljs-meta">#.info(message)</span>
<span class="hljs-meta">#.debug(message)</span></code></pre><p>These methods are provided for legecy/extended support on some transports. Each transport should define how to handle these methods. Generally speaking they should set a default level if applicable for the methods and accept the <code>.level(level)</code> as an override, however, this may be determined by the individual transport.</p>
				<pre><code>#<span class="hljs-meta">.log(</span><span class="hljs-meta">message</span>)
#.<span class="hljs-meta">message</span>(<span class="hljs-meta">message</span>)</code></pre>
				<a href="#transports-available" id="transports-available" style="color: inherit; text-decoration: none;">
					<h2>Transports available</h2>
				</a>
				<ol>
					<li>Sentry<ol>
							<li>Node<ul>
									<li><code>npm i @sentry/node</code> required</li>
								</ul>
							</li>
							<li>Browser<ul>
									<li><code>Ç¹pm i @sentry/browser</code> required</li>
								</ul>
							</li>
							<li>Vue<ul>
									<li><code>npm i @sentry/browser @sentry/integrations</code> required</li>
								</ul>
							</li>
						</ol>
					</li>
					<li>File<ol>
							<li>Node only</li>
						</ol>
					</li>
					<li>Console<ol>
							<li>Browser</li>
							<li>Node</li>
						</ol>
					</li>
				</ol>
				<a href="#notes-on-transports" id="notes-on-transports" style="color: inherit; text-decoration: none;">
					<h2>Notes on Transports</h2>
				</a>
				<a href="#sentry" id="sentry" style="color: inherit; text-decoration: none;">
					<h3>Sentry</h3>
				</a>
				<p>You need to build the Sentry instance seperately and then pass it into the SentryLogger constructor. You can use the builders provided for each environment to make configuration easier <code>SentryBrowser</code>, <code>SentryNode</code>, and <code>SentryVue</code>. They take care of some sane defaults and expose a more eloquent api than Sentry itself does.</p>
				<p>If you send an <code>Error()</code> as the message in <code>#.message()</code> then sentry will treat it as an exception ... any level you try to pass with be ignored and the level set to <code>error</code>. The <code>#.message()</code> is only intended to be used with strings in Sentry per their docs.</p>
				<a href="#file" id="file" style="color: inherit; text-decoration: none;">
					<h3>File</h3>
				</a>
				<p>The file logger accepts a path to the folder where the log should be saved. Default is <code>__dirname</code>, which is probably not what you want. Your best bet is to give it an absolute path. Files are named according to the date in the form <code>yyyy-mm-dd</code>. <strong>Do not try to give a filename ... it won&#39;t work</strong></p>
				<p>The format is a structured JSON object which is stringified of the form</p>
				<pre><code>{
  <span class="hljs-attribute">date</span>: Date.<span class="hljs-built_in">now</span>(),
  message,
  ...data
}</code></pre><p>where <code>...data</code> is any data passed to the logger by the user</p>
				<a href="#console" id="console" style="color: inherit; text-decoration: none;">
					<h3>Console</h3>
				</a>
				<p>The console logger outputs <code>&lt;level&gt; -- &lt;message&gt;</code> by default. You can pass an optional function to the <code>ConsoleLogger#constructor</code> with a formatting you want. The options to the console logger are of the form:</p>
				<pre><code>{
    <span class="hljs-attribute">formatFn</span>: (level, message, context) =&gt; any
} </code></pre>
				<a href="#examples" id="examples" style="color: inherit; text-decoration: none;">
					<h2>Examples</h2>
				</a>
				<a href="#console-1" id="console-1" style="color: inherit; text-decoration: none;">
					<h3>Console</h3>
				</a>
				<pre><code class="language-js"><span class="hljs-keyword">import</span> {ConsoleLogger, LoggerFacade} <span class="hljs-keyword">from</span> <span class="hljs-string">'lautfm-loggers'</span>

<span class="hljs-keyword">const</span> consoleLogger = <span class="hljs-keyword">new</span> ConsoleLogger()
<span class="hljs-keyword">const</span> logger = <span class="hljs-keyword">new</span> LoggerFacade()
logger.addLogger(<span class="hljs-string">'console'</span>, consoleLogger)
logger.info(<span class="hljs-string">"I'm a message"</span>)</code></pre>
				<a href="#file-1" id="file-1" style="color: inherit; text-decoration: none;">
					<h3>File</h3>
				</a>
				<pre><code class="language-js"><span class="hljs-keyword">import</span> {FileLogger, LoggerFacade} <span class="hljs-keyword">from</span> <span class="hljs-string">'lautfm-loggers'</span>

<span class="hljs-keyword">const</span> fileLogger = <span class="hljs-keyword">new</span> FileLogger({ <span class="hljs-attr">filepath</span>: <span class="hljs-string">'.'</span> })
<span class="hljs-keyword">const</span> logger = <span class="hljs-keyword">new</span> LoggerFacade()
logger.addLogger(<span class="hljs-string">'file'</span>, fileLogger)
logger.info( <span class="hljs-string">"I'm a message"</span> )</code></pre>
				<a href="#sentry-1" id="sentry-1" style="color: inherit; text-decoration: none;">
					<h3>Sentry</h3>
				</a>
				<pre><code class="language-js"><span class="hljs-keyword">import</span> {SentryBrowser, SentryLogger, LoggerFacade} <span class="hljs-keyword">from</span> <span class="hljs-string">'lautfm-loggers'</span>

<span class="hljs-keyword">const</span> sentryBuilder = <span class="hljs-keyword">new</span> SentryBrowser()
<span class="hljs-keyword">const</span> Sentry = sentryBuilder
    .dsn(<span class="hljs-string">'https://mydsn.com'</span>)
    .env(<span class="hljs-string">'production'</span>)
    .release(<span class="hljs-string">'beta3'</span>)
    .make()
<span class="hljs-keyword">const</span> sentryLogger = <span class="hljs-keyword">new</span> SentryLogger(Sentry)

<span class="hljs-keyword">const</span> logger = <span class="hljs-keyword">new</span> LoggerFacade()
logger.addLogger(<span class="hljs-string">'sentry'</span>, sentryLogger)
logger.info(<span class="hljs-string">"I'm a message"</span>)</code></pre>
				<a href="#multiple-loggers" id="multiple-loggers" style="color: inherit; text-decoration: none;">
					<h3>Multiple Loggers</h3>
				</a>
				<pre><code class="language-js"><span class="hljs-keyword">import</span> {SentryNode, SentryLogger, FileLogger, LoggerFacade} <span class="hljs-keyword">from</span> <span class="hljs-string">'lautfm-loggers'</span>

<span class="hljs-keyword">const</span> sentryBuilder = <span class="hljs-keyword">new</span> SentryBrowser()
<span class="hljs-keyword">const</span> Sentry = sentryBuilder
    .dsn(<span class="hljs-string">'https://mydsn.com'</span>)
    .env(<span class="hljs-string">'production'</span>)
    .release(<span class="hljs-string">'beta3'</span>)
    .make()
<span class="hljs-keyword">const</span> sentryLogger = <span class="hljs-keyword">new</span> SentryLogger(Sentry)

<span class="hljs-keyword">const</span> fileLogger = <span class="hljs-keyword">new</span> FileLogger({ <span class="hljs-attr">filepath</span>: <span class="hljs-string">'.'</span> })

<span class="hljs-keyword">const</span> logger = <span class="hljs-keyword">new</span> LoggerFacade
logger.addLogger(<span class="hljs-string">'file'</span>, fileLogger)
logger.addLogger(<span class="hljs-string">'sentry'</span>, sentryLogger)

logger.info(<span class="hljs-string">"I'm Logging to both instances"</span>)

logger.removeLogger(<span class="hljs-string">'sentry'</span>)

logger.info(<span class="hljs-string">"I'm just logging to a file now"</span>)</code></pre>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-enum">
						<a href="enums/tosend.html" class="tsd-kind-icon">To<wbr>Send</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/consolelogger.html" class="tsd-kind-icon">Console<wbr>Logger</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/filelogger.html" class="tsd-kind-icon">File<wbr>Logger</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/loggerfacade.html" class="tsd-kind-icon">Logger<wbr>Facade</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/loggerfacadedata.html" class="tsd-kind-icon">Logger<wbr>Facade<wbr>Data</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/loggermanager.html" class="tsd-kind-icon">Logger<wbr>Manager</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/nodesentry.html" class="tsd-kind-icon">Node<wbr>Sentry</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/sentrybase.html" class="tsd-kind-icon">Sentry<wbr>Base</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/sentrybrowser.html" class="tsd-kind-icon">Sentry<wbr>Browser</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/sentrylogger.html" class="tsd-kind-icon">Sentry<wbr>Logger</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/vuesentry.html" class="tsd-kind-icon">Vue<wbr>Sentry</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/fileloggeroptions.html" class="tsd-kind-icon">File<wbr>Logger<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/formatfn.html" class="tsd-kind-icon">Format<wbr>Fn</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/iconsoleoptions.html" class="tsd-kind-icon">IConsole<wbr>Options</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/isentryconfig.html" class="tsd-kind-icon">ISentry<wbr>Config</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ivuesentryconfig.html" class="tsd-kind-icon">IVue<wbr>Sentry<wbr>Config</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/loggerinterface.html" class="tsd-kind-icon">Logger<wbr>Interface</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/tloggerdata.html" class="tsd-kind-icon">TLogger<wbr>Data</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/textra.html" class="tsd-kind-icon">Textra</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/ttag.html" class="tsd-kind-icon">Ttag</a>
					</li>
					<li class=" tsd-kind-interface">
						<a href="interfaces/vueoptions.html" class="tsd-kind-icon">Vue<wbr>Options</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#context" class="tsd-kind-icon">Context</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#hub" class="tsd-kind-icon">Hub</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#scope" class="tsd-kind-icon">Scope</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#severity" class="tsd-kind-icon">Severity</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#tconsolelevel" class="tsd-kind-icon">TConsole<wbr>Level</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#terrorlevel" class="tsd-kind-icon">TError<wbr>Level</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#tloggermethods" class="tsd-kind-icon">TLogger<wbr>Methods</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#tsentrylevel" class="tsd-kind-icon">TSentry<wbr>Level</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#ttosendstring" class="tsd-kind-icon">Tto<wbr>Send<wbr>String</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#tuseremail" class="tsd-kind-icon">Tuser<wbr>Email</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#tuserid" class="tsd-kind-icon">Tuser<wbr>Id</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#tuserip" class="tsd-kind-icon">Tuser<wbr>Ip</a>
					</li>
					<li class=" tsd-kind-type-alias">
						<a href="globals.html#tusername" class="tsd-kind-icon">Tusername</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>